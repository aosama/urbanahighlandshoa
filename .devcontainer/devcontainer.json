{
  "name": "Urbana Highlands HOA",
  "image": "mcr.microsoft.com/devcontainers/javascript-node:24-bookworm",
  "features": {
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/github-cli:1": {},
    "ghcr.io/devcontainers/features/node:1": {
      "version": "24",
      "nodeGypDependencies": true
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "astro-build.astro-vscode",
        "davidanson.vscode-markdownlint"
      ],
      "settings": {
        "files.insertFinalNewline": true,
        "files.trimTrailingWhitespace": true
      }
    }
  },
  "postCreateCommand": "bash -lc 'set -euo pipefail; cd site && npm ci; mkdir -p \"${containerWorkspaceFolder}/.copilot\"; if [ ! -d \"${containerWorkspaceFolder}/.copilot/skills/.git\" ]; then git clone https://github.com/aosama/skills \"${containerWorkspaceFolder}/.copilot/skills\"; else git -C \"${containerWorkspaceFolder}/.copilot/skills\" pull --ff-only; fi; mkdir -p \"$HOME/.copilot\"; ln -snf \"${containerWorkspaceFolder}/.copilot/skills\" \"$HOME/.copilot/skills\"; command -v copilot >/dev/null 2>&1 || npm i -g @github/copilot'",
  "postAttachCommand": "cd site && npm run dev -- --host 0.0.0.0",
  "forwardPorts": [4321],
  "portsAttributes": {
    "4321": {
      "label": "Astro dev server",
      "onAutoForward": "openBrowser"
    }
  },
  "remoteUser": "node",
  "updateContentCommand": "bash -lc 'set -euo pipefail; cd site && npm ci; if [ -d \"${containerWorkspaceFolder}/.copilot/skills/.git\" ]; then git -C \"${containerWorkspaceFolder}/.copilot/skills\" pull --ff-only; fi'"
}
